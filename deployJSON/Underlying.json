{
    "abi": [
        {
          "inputs": [
            {
              "components": [
                {
                  "internalType": "bytes32",
                  "name": "positionId",
                  "type": "bytes32"
                },
                {
                  "internalType": "uint160",
                  "name": "sqrtPriceX96",
                  "type": "uint160"
                },
                {
                  "internalType": "int24",
                  "name": "tick",
                  "type": "int24"
                },
                {
                  "internalType": "int24",
                  "name": "lowerTick",
                  "type": "int24"
                },
                {
                  "internalType": "int24",
                  "name": "upperTick",
                  "type": "int24"
                },
                {
                  "internalType": "contract IUniswapV3Pool",
                  "name": "pool",
                  "type": "IUniswapV3Pool"
                }
              ],
              "internalType": "struct PositionUnderlying",
              "name": "positionUnderlying_",
              "type": "tuple"
            }
          ],
          "name": "getUnderlyingBalances",
          "outputs": [
            {
              "internalType": "uint256",
              "name": "amount0Current",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "amount1Current",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "fee0",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "fee1",
              "type": "uint256"
            }
          ],
          "stateMutability": "view",
          "type": "function"
        },
        {
          "inputs": [
            {
              "components": [
                {
                  "components": [
                    {
                      "internalType": "int24",
                      "name": "lowerTick",
                      "type": "int24"
                    },
                    {
                      "internalType": "int24",
                      "name": "upperTick",
                      "type": "int24"
                    },
                    {
                      "internalType": "uint24",
                      "name": "feeTier",
                      "type": "uint24"
                    }
                  ],
                  "internalType": "struct Range[]",
                  "name": "ranges",
                  "type": "tuple[]"
                },
                {
                  "internalType": "contract IUniswapV3Factory",
                  "name": "factory",
                  "type": "IUniswapV3Factory"
                },
                {
                  "internalType": "address",
                  "name": "token0",
                  "type": "address"
                },
                {
                  "internalType": "address",
                  "name": "token1",
                  "type": "address"
                },
                {
                  "internalType": "address",
                  "name": "self",
                  "type": "address"
                }
              ],
              "internalType": "struct UnderlyingPayload",
              "name": "underlyingPayload_",
              "type": "tuple"
            }
          ],
          "name": "totalUnderlyingWithFees",
          "outputs": [
            {
              "internalType": "uint256",
              "name": "amount0",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "amount1",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "fee0",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "fee1",
              "type": "uint256"
            }
          ],
          "stateMutability": "view",
          "type": "function"
        },
        {
          "inputs": [
            {
              "components": [
                {
                  "internalType": "address",
                  "name": "self",
                  "type": "address"
                },
                {
                  "components": [
                    {
                      "internalType": "int24",
                      "name": "lowerTick",
                      "type": "int24"
                    },
                    {
                      "internalType": "int24",
                      "name": "upperTick",
                      "type": "int24"
                    },
                    {
                      "internalType": "uint24",
                      "name": "feeTier",
                      "type": "uint24"
                    }
                  ],
                  "internalType": "struct Range",
                  "name": "range",
                  "type": "tuple"
                },
                {
                  "internalType": "contract IUniswapV3Pool",
                  "name": "pool",
                  "type": "IUniswapV3Pool"
                }
              ],
              "internalType": "struct RangeData",
              "name": "underlying_",
              "type": "tuple"
            },
            {
              "internalType": "uint160",
              "name": "sqrtPriceX96_",
              "type": "uint160"
            }
          ],
          "name": "underlying",
          "outputs": [
            {
              "internalType": "uint256",
              "name": "amount0",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "amount1",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "fee0",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "fee1",
              "type": "uint256"
            }
          ],
          "stateMutability": "view",
          "type": "function"
        }
      ],
      "bytecode": "0x6114e161003a600b82828239805160001a60731461002d57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe730000000000000000000000000000000000000000301460806040526004361061004b5760003560e01c80633ba56978146100505780637c75bd7814610087578063e56f4d911461009a575b600080fd5b61006361005e366004610f35565b6100ad565b60408051948552602085019390935291830152606082015260800160405180910390f35b61006361009536600461102f565b610354565b6100636100a83660046110a7565b610537565b60008060008060008060008060008960a001516001600160a01b031663514ea4bf8b600001516040518263ffffffff1660e01b81526004016100f191815260200190565b60a060405180830381865afa15801561010e573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061013291906111da565b945094509450945094506101648a602001516101518c60600151610846565b61015e8d60800151610846565b88610c5f565b809950819a505050816001600160801b031673dd67F313E3303f8Fd7Ce1dB94B99B2C8e59b3D9763c8db06696040518060e00160405280888152602001896001600160801b031681526020018e6040015160020b81526020018e6060015160020b81526020018e6080015160020b81526020016001151581526020018e60a001516001600160a01b03168152506040518263ffffffff1660e01b815260040161020d9190611231565b602060405180830381865af415801561022a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061024e9190611292565b61025891906112c1565b9650806001600160801b031673dd67F313E3303f8Fd7Ce1dB94B99B2C8e59b3D9763c8db06696040518060e00160405280878152602001896001600160801b031681526020018e6040015160020b81526020018e6060015160020b81526020018e6080015160020b81526020016000151581526020018e60a001516001600160a01b03168152506040518263ffffffff1660e01b81526004016102fb9190611231565b602060405180830381865af4158015610318573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061033c9190611292565b61034691906112c1565b955050505050509193509193565b60008060008060008060008060008a604001516001600160a01b0316633850c7bd6040518163ffffffff1660e01b815260040160e060405180830381865afa1580156103a4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103c891906112eb565b5050505050915050600073C64433E71f1f76Be5567B657026656Cce5999C34631208efca8d600001518e60200151600001518f60200151602001516040518463ffffffff1660e01b8152600401610441939291906001600160a01b03939093168352600291820b6020840152900b604082015260600190565b602060405180830381865af415801561045e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104829190611292565b905060006040518060c001604052808381526020018d6001600160a01b031681526020018460020b81526020018e602001516000015160020b81526020018e602001516020015160020b81526020018e604001516001600160a01b031681525090506104ed816100ad565b92995090975095509350610501878c6112c1565b9a5061050d868b6112c1565b9950610519858a6112c1565b985061052584896112c1565b97505050505050505092959194509250565b60008060008060005b85515181101561073c57600086602001516001600160a01b0316631698ee82886040015189606001518a60000151868151811061057f5761057f611388565b602090810291909101015160409081015190516001600160e01b031960e086901b1681526001600160a01b03938416600482015292909116602483015262ffffff166044820152606401602060405180830381865afa1580156105e6573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061060a919061139e565b90506000816001600160a01b0316633850c7bd6040518163ffffffff1660e01b815260040160e060405180830381865afa15801561064c573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061067091906112eb565b50505050505090506000806000806106d560405180606001604052808e608001516001600160a01b031681526020018e600001518a815181106106b5576106b5611388565b60200260200101518152602001886001600160a01b031681525086610354565b935093509350935081846106e991906112c1565b6106f3908c6112c1565b9a506106ff81846112c1565b610709908b6112c1565b9950610715828a6112c1565b985061072181896112c1565b97505050505050508080610734906113bb565b915050610540565b5084604001516001600160a01b03166370a0823186608001516040518263ffffffff1660e01b815260040161077191906113d4565b602060405180830381865afa15801561078e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107b29190611292565b6107bc90856112c1565b935084606001516001600160a01b03166370a0823186608001516040518263ffffffff1660e01b81526004016107f291906113d4565b602060405180830381865afa15801561080f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108339190611292565b61083d90846112c1565b92509193509193565b60008060008360020b1261085d578260020b61086a565b8260020b61086a906113e8565b9050610879620d89e719611404565b60020b8111156108b35760405162461bcd60e51b81526020600482015260016024820152601560fa1b604482015260640160405180910390fd5b6000816001166000036108ca57600160801b6108dc565b6ffffcb933bd6fad37aa2d162d1a5940015b6001600160881b03169050600282161561091157608061090c826ffff97272373d413259a46990580e213a611426565b901c90505b600482161561093b576080610936826ffff2e50f5f656932ef12357cf3c7fdcc611426565b901c90505b6008821615610965576080610960826fffe5caca7e10e4e61c3624eaa0941cd0611426565b901c90505b601082161561098f57608061098a826fffcb9843d60f6159c9db58835c926644611426565b901c90505b60208216156109b95760806109b4826fff973b41fa98c081472e6896dfb254c0611426565b901c90505b60408216156109e35760806109de826fff2ea16466c96a3843ec78b326b52861611426565b901c90505b6080821615610a0d576080610a08826ffe5dee046a99a2a811c461f1969c3053611426565b901c90505b610100821615610a38576080610a33826ffcbe86c7900a88aedcffc83b479aa3a4611426565b901c90505b610200821615610a63576080610a5e826ff987a7253ac413176f2b074cf7815e54611426565b901c90505b610400821615610a8e576080610a89826ff3392b0822b70005940c7a398e4b70f3611426565b901c90505b610800821615610ab9576080610ab4826fe7159475a2c29b7443b29c7fa6e889d9611426565b901c90505b611000821615610ae4576080610adf826fd097f3bdfd2022b8845ad8f792aa5825611426565b901c90505b612000821615610b0f576080610b0a826fa9f746462d870fdf8a65dc1f90e061e5611426565b901c90505b614000821615610b3a576080610b35826f70d869a156d2a1b890bb3df62baf32f7611426565b901c90505b618000821615610b65576080610b60826f31be135f97d08fd981231505542fcfa6611426565b901c90505b62010000821615610b91576080610b8c826f09aa508b5b7a84e1c677de54f3e99bc9611426565b901c90505b62020000821615610bbc576080610bb7826e5d6af8dedb81196699c329225ee604611426565b901c90505b62040000821615610be6576080610be1826d2216e584f5fa1ea926041bedfe98611426565b901c90505b62080000821615610c0e576080610c09826b048a170391f7dc42444e8fa2611426565b901c90505b60008460020b1315610c2957610c268160001961145b565b90505b610c37600160201b8261146f565b15610c43576001610c46565b60005b610c579060ff16602083901c6112c1565b949350505050565b600080836001600160a01b0316856001600160a01b03161115610c80579293925b846001600160a01b0316866001600160a01b031611610cab57610ca4858585610cfb565b9150610cf2565b836001600160a01b0316866001600160a01b03161015610ce457610cd0868585610cfb565b9150610cdd858785610d6f565b9050610cf2565b610cef858585610d6f565b90505b94509492505050565b6000826001600160a01b0316846001600160a01b03161115610d1b579192915b6001600160a01b038416610d5b600160601b600160e01b03606085901b16610d438787611483565b6001600160a01b0316866001600160a01b0316610db5565b610d65919061145b565b90505b9392505050565b6000826001600160a01b0316846001600160a01b03161115610d8f579192915b610d656001600160801b038316610da68686611483565b6001600160a01b0316600160601b5b6000808060001985870985870292508281108382030391505080600003610dee5760008411610de357600080fd5b508290049050610d68565b808411610dfa57600080fd5b60008486880960026001871981018816978890046003810283188082028403028082028403028082028403028082028403028082028403029081029092039091026000889003889004909101858311909403939093029303949094049190911702949350505050565b634e487b7160e01b600052604160045260246000fd5b604051606081016001600160401b0381118282101715610e9b57610e9b610e63565b60405290565b60405160a081016001600160401b0381118282101715610e9b57610e9b610e63565b604051601f8201601f191681016001600160401b0381118282101715610eeb57610eeb610e63565b604052919050565b6001600160a01b0381168114610f0857600080fd5b50565b8060020b8114610f0857600080fd5b8035610f2581610f0b565b919050565b8035610f2581610ef3565b600060c08284031215610f4757600080fd5b60405160c081016001600160401b0381118282101715610f6957610f69610e63565b604052823581526020830135610f7e81610ef3565b60208201526040830135610f9181610f0b565b60408201526060830135610fa481610f0b565b6060820152610fb560808401610f1a565b6080820152610fc660a08401610f2a565b60a08201529392505050565b600060608284031215610fe457600080fd5b610fec610e79565b90508135610ff981610f0b565b8152602082013561100981610f0b565b6020820152604082013562ffffff8116811461102457600080fd5b604082015292915050565b60008082840360c081121561104357600080fd5b60a081121561105157600080fd5b5061105a610e79565b833561106581610ef3565b81526110748560208601610fd2565b6020820152608084013561108781610ef3565b6040820152915060a083013561109c81610ef3565b809150509250929050565b600060208083850312156110ba57600080fd5b82356001600160401b03808211156110d157600080fd5b9084019060a082870312156110e557600080fd5b6110ed610ea1565b8235828111156110fc57600080fd5b8301601f8101881361110d57600080fd5b80358381111561111f5761111f610e63565b61112d868260051b01610ec3565b8181528681019450606091820283018701918a83111561114c57600080fd5b928701925b82841015611172576111638b85610fd2565b86529487019492830192611151565b818552611180888801610f2a565b8886015261119060408801610f2a565b60408601526111a0818801610f2a565b81860152505050506111b460808401610f2a565b60808201529695505050505050565b80516001600160801b0381168114610f2557600080fd5b600080600080600060a086880312156111f257600080fd5b6111fb866111c3565b94506020860151935060408601519250611217606087016111c3565b9150611225608087016111c3565b90509295509295909350565b600060e0820190508251825260208301516020830152604083015160020b6040830152606083015160020b6060830152608083015160020b608083015260a0830151151560a083015260018060a01b0360c08401511660c083015292915050565b6000602082840312156112a457600080fd5b5051919050565b634e487b7160e01b600052601160045260246000fd5b600082198211156112d4576112d46112ab565b500190565b805161ffff81168114610f2557600080fd5b600080600080600080600060e0888a03121561130657600080fd5b875161131181610ef3565b602089015190975061132281610f0b565b9550611330604089016112d9565b945061133e606089016112d9565b935061134c608089016112d9565b925060a088015160ff8116811461136257600080fd5b60c0890151909250801515811461137857600080fd5b8091505092959891949750929550565b634e487b7160e01b600052603260045260246000fd5b6000602082840312156113b057600080fd5b8151610d6881610ef3565b6000600182016113cd576113cd6112ab565b5060010190565b6001600160a01b0391909116815260200190565b6000600160ff1b82016113fd576113fd6112ab565b5060000390565b60008160020b627fffff19810361141d5761141d6112ab565b60000392915050565b6000816000190483118215151615611440576114406112ab565b500290565b634e487b7160e01b600052601260045260246000fd5b60008261146a5761146a611445565b500490565b60008261147e5761147e611445565b500690565b60006001600160a01b03838116908316818110156114a3576114a36112ab565b03939250505056fea26469706673582212207181bada5cc345b0879c8a2be3f30a4fef8b0dccda0e232c4988d2b289d1930564736f6c634300080d0033",
      "linkReferences": {
        "Position": [
          {
            "length": 20,
            "start": 1038
          }
        ],
        "UniswapV3Amounts": [
          {
            "length": 20,
            "start": 434
          },
          {
            "length": 20,
            "start": 672
          }
        ]
      }
}